# DataBase 개론

1. DataBase란?
	- 여러 사람, 응용 프로그램에서 **공유**를 목적으로 **구조화**시켜 사용하는 데이터 집합
	- 일반적으로 많이 쓰이는 RDBMS에서 Table 형태로 데이터를 관리

2. DBMS란?
	- 데이터 베이스를 편리하고 효율적으로 관리하기 위한 기능을 제공하는 S/W
	- 사용자/어플리케이션이 물리적인 DB와 연결할 수 있게 해주는 시스템
	> 사용자/Application -> DBMS -> DB

3. DBMS의 필요성, 장/단점
	- 데이터 베이스 관리 시스템 이전에 파일 관리 시스템 존재
	- 파일 관리 시스템의 경우
		+ 여러 데이터간의 **관계**를 설명할 수 없고, 파일 별로 동일한 내용의 데이터가 중복되어 저장 되어야 함
		+ 응용 프로그램 개발 시, 매직넘버나 파일의 규격 등 파일에 대해 종속적(확정, 유지보수성이 낮음)
		+ 파일에 대한 접근이 세마포어로 관리되어 여러 사용자가 동시에 공유하기 어렵고 장애 발생 시 회복이 어렵고 보안성이 낮음
		
		+ 다만, 단일 사용자/ 어플리케이션에서만 사용해 데이터의 정합성 유지가 필요없다면, 파일 시스템이 더 높은 성능을 가짐


	- DBMS는 파일 시스템의 문제를 보완
		+ Join 기능을 통해 데이터를 분리, 연결할 수 있어 데이터의 중복을 줄일 수 있음(정규화 가능)
		+ 트랜잭션을 통해 데이터의 일관성, 동시 접근성, 회복(Rollback), 백업 가능
		+ UI, API 등 다양한 인터페이스를 통해 사용 가능
		+ Query 처리에 효율적인 저장 구조
		+ 데이터 독립성:
			- 물리적 독립성: 파일의 구조가 변경되어도 응용 프로그램에 영향을 주지 않음
			- 논리적 독립성: 응용프로그램이 변경되어도 파일이 변경될 필요가 없음
		+ 단점으로는 파일 시스템에 비해 높은 비용과 관리, 운영의 복잡함이 있음

	- RDBMS는 기존 트리, 그래프 등의 구조를 개선해 테이블 형태로 데이터를 표현해 가독성을 높이고 스키마를 통해 데이터 간의 관계 정의
		- 메타 데이터(데이터 자료형, 속성)을 관리해 데이터 품질을 높임(체계화)
		- 다양한 제약조건(PK-FK, NOT NULL)을 통해 데이터의 무결성(정확성, 일관성)을 보장
	
4. DBMS 데이터 모델 발전
	1) 계층형 모델
		- 트리 구조로 하위 데이터들이 상위 데이터 하나를 가짐
		- 단순하지만 1:N 관계만을 표현할 수 있어 표현성과 유연성이 낮음

	2) 네트워크형 모델
		- 계층형 모댈애서 N:M 관계를 표현하기 위해 그래프 구조로 이루어짐
		- N:M 관계를 표현할 수 있으나 복잡성이 높고 데이터간의 의존성이 높아짐
			-> 성능 저하, 유지보수와 확장 어려움

	3) 관계형 모델
		- 데이터 베이스의 구조를 2차원 테이블로 표현해 데이터의 상호 관계 표현
		- 여러 테이블이 있을 때, 공유되는 속성(Foreign Key)로 관계 구조 표현 가능
	
	4) 객체 지향형 모델
		- 멀티미디어의 발달로 관계형 데이터로 표현하기 어려운 데이터 구조 표현이 목적
		- 같은 구조(속성), 연산(메소드)를 가지는 객체는 한 클래스에 속함
		- 클래스는 계층 또는 비순환 그래프로 표현됨
		- 클래스의 연산을 나타내기 위한 메소드 함수 정의

	5) 객체 관계형 모델
		- 기존 관계형 모델에 객체지향형 모델의 장점을 통합
		- 객체지향적 멀티 미디어와 관계형 데이터 모두를 지원

5. DBMS 특징
	1) DBMS 구조
		- 데이터 베이스 스키마(구조):
			+ 데이터 베이스의 구체적인 구조와 제약 조건을 기술
			+ 필요 속성, 속성의 자료형, 인덱스, 관계 구조를 다룸

		- 데이터베이스 인스턴스:
			+ 특정 시점의 데이터 베이스 내용
			+ 지속적으로 변경되는 데이터 베이스 스키마의 실재
		> 데이터 베이스는 논리적 구조인 스키마와 스키마의 물리적 실재인 인스턴스로 구성

	2) DBMS 사용자
		> 조직 내에서 구축된 데이터 베이스 사용자 전체
		- DBA(DB Admin): 데이터 베이스 환경 구성과 운영에 관한 전반적인 책임자
		- DB Modeller(DB 설계자): 데이터 베이스의 요구사항을 분석해 데이터 베이스의 스키마 설계
		- DB 사용자: DB에 대한 질의, 갱신 연산을 주로하는 단순 사용자와 개발자/시스템 분석가 포함

	3) DB 언어는 DDL(정의), DCL(권한 제어), DML(데이터 조작) 언어로 이루어짐

6. 데이터 베이스 언어
	- 데이터 베이스를 정의하고 접근을 지원하는 통신 수단(API)
	- DDL, DCL, DML

	1) DDL: 데이터 모델러, DBA
		- DBA, 설계자가 데이터 간의 관계를 정의하거나 이미 정의된 관계를 수정할 때 사용
	2) DCL: DBA
		- 관리자가 데이터의 보안, 무결성, 복구, 병행 제어를 정의하거나 권한을 설정할 때 사용
	3) DML: DB 사용자
		- 사용자가 응용 프로그램에서나 직접 Query를 통해 CRUD 연산을 하기 위한 언어

7. DBMS 응용
	1) 메인 메모리 데이터베이스(MMDB, IMDB)
		- Disk가 아닌 메인 메모리에 데이터를 적재해 운용
		- 속도가 빠르나 장애 발생 시 휘발성 데이터 유실
		- 메모리 가격의 하락으로 빠르게 성장, 로그를 이용한 Undo, Redo 불가하며 하드웨어적인 회복 필요
		- 메모리 공간이 적어 가상 메모리가 사용될 경우 Page Fault로 속도가 오히려 느려질 수 있음
		- 단점을 극복하기 위해, Disk에 로그와 체크포인트를 기록해 안정성을 높임
		
		> ElastiCache, Redis, Memcached 등 존재, 장애가 발생해도 큰 문제가 되지 않는 로그인 세션 등 저장 용도로 사용

	2) 분산 데이터 베이스
		- 물리적인 여러 데이터 베이스를 네트워크로 연결해 논리적인 하나의 데이터 베이스로 사용
		- 분산 유형에 따라 위치 분산(물리적), 수평/수직 분할, 복제, 요약 등의 목적
		- 분할에 따라 투명성 제약 조건이 생김
		- 샤딩, 파티셔닝 등

	3) 멀티미디어 데이터 베이스
		- 숫자, 문자와 같은 일반 데이터 이외의 영상, 음향 등의 멀티미디어 데이터도 저장, 처리 가능
		- 네트워크 대역폭 확대로 빠른 성장
		- 파일 기반, 데이터 베이스 기반으로 나뉘며
		RDBMS 기반으로
			+ CLOB(Character Large Object) 필드에 비정형 텍스트 데이터 저장
			+ BLOB(Binary Large Object) 필드에 이미지, 비디오, 오디오 저장
			+ 완전한 멀티미디어 DB의 구축은 어려움

		OODBMS 기반에서는 CLOB, BLOB에 더불어 Method의 정의로 미디어 별 추가적인 동작 정의 가능

	4) 공간 데이터 베이스
		- 문자, 숫자 및 공간 객체의 좌표로 표현되는 공간 데이터 집합
		- 좌표 등의 위치 정보와 점, 선, 폴리곤 등의 연속적 공간 객체의 저장에도 효과적
		- 기하, 위상적 특성 반영
		- 설계 DB(컴퓨터 자원, 설계 정보 등 저장), 공간 무결성 제약(같은 위치에 두 객체 존재 불가)
	
	5) 비정형 데이터 베이스
		- 빅데이터의 3V(속도, 크기, 다양성) 고려한 비관계형 데이터베이스
		- 대표적으로 컬럼, 도큐먼트, 키-값, 그래프 DB 존재

	### Summary: 저장 위치(Disk, Main Memory, 분산 저장), 데이터 특성(정형, 멀티미디어, 비정형), 데이터 모델(컬럼, 도큐먼트, 키-값, 그래프) 등으로 데이터 베이스를 구분

	추가: 인메모리 T-Tree index, 공간 DB R-Tree index는 자료 구조에서 다시 정리
